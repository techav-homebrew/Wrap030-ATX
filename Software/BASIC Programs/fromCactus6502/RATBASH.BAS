REM Needs modification to run on Wrap030-ATX
NEW
10 A=43264
20 RATS=10
30 Z=0
40 F=150
80 POKE A,0
99 REM PRIMARLY GAME LOOP
100 D=INT(RND(1)*3)+5
105 PRINT "DELAY: ";D
110 GOSUB 2000
149 REM FIGURE OUT WHERE THE RAT GOES
150 Y=INT(RND(1)*8)
160 M=INT(2^Y)
161 PRINT "RAT: ";M
170 POKE A,M
180 GOSUB 3000
190 POKE A,0
200 RATS=RATS-1
210 IF RATS>0 THEN GOTO 99
220 REM ALL RATS DEAD
300 GOSUB 4000
500 PRINT "SCORE: ";Z
550 END
2000 REM DELAY LOOP
2020 FOR Q=0 TO (D*100)
2040 NEXT Q
2060 RETURN
3000 REM SCAN LOOP
3020 FOR W=0 TO F
3040 S=PEEK(A)
3050 IF S=0 THEN GOTO 3100
3060 REM NO STRIKE MEANS INC LOOP
3070 R=ABS(M-S)
3071 IF R>0 THEN PRINT "RESULT: ";R
3072 REM IF WE HIT THE RAT THIS SHOULD BE ZERO
3075 IF R>0 THEN POKE A,M
3080 IF R=0 THEN GOTO 3300
3090 REM R WAS NONZERO MEANING A MISS
3095 IF W<125 THEN W=125
3100 NEXT W
3200 RETURN
3300 M=0
3301 REM THE RAT IS NOW DEAD SO EXIT THE SUBROUTINE
3305 PRINT"HIT!"
3310 Z=Z+1
3320 RETURN
4000 REM SCORE COUNTER
4010 FOR X=0 TO Z
4020 POKE A,X
4030 FOR U=0 TO 10
4040 NEXT U
4050 NEXT X
4060 RETURN